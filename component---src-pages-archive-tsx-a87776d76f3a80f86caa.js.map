{"version":3,"file":"component---src-pages-archive-tsx-a87776d76f3a80f86caa.js","mappings":"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","sources":["webpack://foo-x/./src/components/HeaderCommon.tsx","webpack://foo-x/./src/styles/components/HeaderCommon.module.css","webpack://foo-x/./src/components/LayoutCommon.tsx","webpack://foo-x/./src/styles/components/LayoutCommon.module.css","webpack://foo-x/./src/styles/pages/archive.module.css","webpack://foo-x/./node_modules/use-debounce/dist/index.module.js","webpack://foo-x/./src/utils/core.ts","webpack://foo-x/./src/styles/components/ArchiveCard.module.css","webpack://foo-x/./src/components/ArchiveCard.tsx","webpack://foo-x/./src/components/ThumbnailRaster.tsx","webpack://foo-x/./src/styles/components/ThumbnailRaster.module.css","webpack://foo-x/./src/components/ThumbnailVectorArchive.tsx","webpack://foo-x/./src/styles/components/ThumbnailVectorArchive.module.css","webpack://foo-x/./src/components/Search.tsx","webpack://foo-x/./src/styles/components/Search.module.css","webpack://foo-x/./src/pages/archive.tsx"],"sourcesContent":["import * as styles from '~/styles/components/HeaderCommon.module.css';\n\nexport type Props = {\n  titleSvg: string;\n};\n\nconst HeaderCommon = ({ titleSvg }: Props) => {\n  return (\n    <img className={styles.headingCommon} src={titleSvg} alt='heading title' />\n  );\n};\n\nexport default HeaderCommon;\n","// extracted by mini-css-extract-plugin\nexport var headingCommon = \"HeaderCommon-module--headingCommon--70f3e\";","import { PropsWithChildren, useContext } from 'react';\nimport { IsMenuActiveStateContext } from '~/contexts/IsMenuActiveContext';\nimport * as styles from '~/styles/components/LayoutCommon.module.css';\nimport HeaderCommon from './HeaderCommon';\nimport Nav from './Nav';\n\nexport type Props = PropsWithChildren<{\n  titleSvg: string;\n  mainClassName?: string;\n}>;\n\nconst LayoutCommon = ({ children, titleSvg, mainClassName }: Props) => {\n  const isMenuActive = useContext(IsMenuActiveStateContext);\n  return (\n    <div className='global-wrapper'>\n      <header className={styles.globalHeaderCommon}>\n        <HeaderCommon titleSvg={titleSvg} />\n      </header>\n      <Nav isHidden={false} className='global-nav-wrapper' />\n      <main\n        className={mainClassName}\n        ref={(node) =>\n          node &&\n          (isMenuActive\n            ? node.setAttribute('inert', '')\n            : node.removeAttribute('inert'))\n        }\n      >\n        {children}\n      </main>\n    </div>\n  );\n};\n\nexport default LayoutCommon;\n","// extracted by mini-css-extract-plugin\nexport var globalHeaderCommon = \"LayoutCommon-module--globalHeaderCommon--02ac3\";","// extracted by mini-css-extract-plugin\nexport var archivePage = \"archive-module--archivePage--da7fe\";","import{useRef as r,useEffect as n,useMemo as t,useCallback as u,useState as e}from\"react\";function c(u,e,c){var i=this,a=r(null),o=r(0),f=r(null),l=r([]),m=r(),v=r(),d=r(u),p=r(!0);n(function(){d.current=u},[u]);var g=!e&&0!==e&&\"undefined\"!=typeof window;if(\"function\"!=typeof u)throw new TypeError(\"Expected a function\");e=+e||0;var w=!!(c=c||{}).leading,s=!(\"trailing\"in c)||!!c.trailing,x=\"maxWait\"in c,y=x?Math.max(+c.maxWait||0,e):null;n(function(){return p.current=!0,function(){p.current=!1}},[]);var h=t(function(){var r=function(r){var n=l.current,t=m.current;return l.current=m.current=null,o.current=r,v.current=d.current.apply(t,n)},n=function(r,n){g&&cancelAnimationFrame(f.current),f.current=g?requestAnimationFrame(r):setTimeout(r,n)},t=function(r){if(!p.current)return!1;var n=r-a.current;return!a.current||n>=e||n<0||x&&r-o.current>=y},u=function(n){return f.current=null,s&&l.current?r(n):(l.current=m.current=null,v.current)},c=function r(){var c=Date.now();if(t(c))return u(c);if(p.current){var i=e-(c-a.current),f=x?Math.min(i,y-(c-o.current)):i;n(r,f)}},h=function(){var u=Date.now(),d=t(u);if(l.current=[].slice.call(arguments),m.current=i,a.current=u,d){if(!f.current&&p.current)return o.current=a.current,n(c,e),w?r(a.current):v.current;if(x)return n(c,e),r(a.current)}return f.current||n(c,e),v.current};return h.cancel=function(){f.current&&(g?cancelAnimationFrame(f.current):clearTimeout(f.current)),o.current=0,l.current=a.current=m.current=f.current=null},h.isPending=function(){return!!f.current},h.flush=function(){return f.current?u(Date.now()):v.current},h},[w,x,e,y,s,g]);return h}function i(r,n){return r===n}function a(r){return\"function\"==typeof r?function(){return r}:r}function o(n,t,o){var f,l,m=o&&o.equalityFn||i,v=(f=e(a(n)),l=f[1],[f[0],u(function(r){return l(a(r))},[])]),d=v[0],p=v[1],g=c(u(function(r){return p(r)},[p]),t,o),w=r(n);return m(w.current,n)||(g(n),w.current=n),[d,g]}function f(r,n,t){var u=void 0===t?{}:t,e=u.leading,i=u.trailing;return c(r,n,{maxWait:n,leading:void 0===e||e,trailing:void 0===i||i})}export{o as useDebounce,c as useDebouncedCallback,f as useThrottledCallback};\n//# sourceMappingURL=index.module.js.map\n","export const isNonNullable = <T>(value: T): value is NonNullable<T> =>\n  value !== null && value !== undefined;\n","// extracted by mini-css-extract-plugin\nexport var card = \"ArchiveCard-module--card--0dc05\";\nexport var imageWrapper = \"ArchiveCard-module--imageWrapper--d58df\";\nexport var tagLink = \"ArchiveCard-module--tagLink--8d2c5\";\nexport var tags = \"ArchiveCard-module--tags--9a5ba\";\nexport var title = \"ArchiveCard-module--title--46206\";","import { Link, navigate } from 'gatsby';\nimport * as styles from '~/styles/components/ArchiveCard.module.css';\n\ntype Props = {\n  slug: string;\n  title: string;\n  thumbnail: JSX.Element;\n  date: string;\n  tags: string[];\n};\n\nconst ArchiveCard = ({ slug, title, thumbnail, date, tags }: Props) => {\n  const tagElements = tags.map((tag) => {\n    return (\n      <li key={tag}>\n        <Link to={`/archive/?tag=${tag}`} className={styles.tagLink}>\n          {tag}\n        </Link>\n      </li>\n    );\n  });\n  return (\n    <article\n      className={styles.card}\n      onClick={(e) => {\n        if (!e.defaultPrevented) {\n          void navigate(slug);\n        }\n      }}\n      itemScope\n      itemType='http://schema.org/Article'\n      aria-hidden='true'\n    >\n      <Link to={slug} className={styles.imageWrapper} itemProp='url'>\n        {thumbnail}\n      </Link>\n      <section>\n        <h2 className={styles.title} itemProp='headline'>\n          <Link to={slug} itemProp='url'>\n            {title}\n          </Link>\n        </h2>\n        <time dateTime={date}>{date.replace(/-/g, '.')}</time>\n        <ul className={styles.tags}>{tagElements}</ul>\n      </section>\n    </article>\n  );\n};\n\nexport default ArchiveCard;\n","import { GatsbyImage, IGatsbyImageData } from 'gatsby-plugin-image';\nimport * as styles from '~/styles/components/ThumbnailRaster.module.css';\n\nexport type Props = {\n  img: IGatsbyImageData;\n};\n\nconst ThumbnailRaster = ({ img }: Props) => {\n  return (\n    <GatsbyImage\n      image={{ ...img }}\n      className={styles.thumbnailRaster}\n      alt='thumbnail'\n      itemProp='image'\n    />\n  );\n};\n\nexport default ThumbnailRaster;\n","// extracted by mini-css-extract-plugin\nexport var thumbnailRaster = \"ThumbnailRaster-module--thumbnailRaster--13503\";","import { useEffect, useState } from 'react';\nimport * as styles from '~/styles/components/ThumbnailVectorArchive.module.css';\n\nexport type Props = {\n  img: string;\n};\n\nconst ThumbnailVectorArchive = ({ img }: Props) => {\n  const [isHidden, setIsHidden] = useState(true);\n\n  useEffect(() => {\n    setIsHidden(false);\n  }, []);\n\n  const className = styles.thumbnailVectorArchive;\n  const classNames = isHidden ? [className, 'is-hidden'] : [className];\n\n  return (\n    <div className={styles.thumbnailVectorArchiveSpace}>\n      <img\n        src={img}\n        className={classNames.join(' ')}\n        alt='thumbnail'\n        itemProp='image'\n        loading='lazy'\n      />\n    </div>\n  );\n};\n\nexport default ThumbnailVectorArchive;\n","// extracted by mini-css-extract-plugin\nexport var thumbnailVectorArchive = \"ThumbnailVectorArchive-module--thumbnailVectorArchive--8a1f5\";\nexport var thumbnailVectorArchiveSpace = \"ThumbnailVectorArchive-module--thumbnailVectorArchiveSpace--8afa2\";","import { graphql, navigate, useStaticQuery } from 'gatsby';\nimport { ChangeEventHandler, useEffect, useState } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport * as styles from '~/styles/components/Search.module.css';\nimport { isNonNullable } from '~/utils/core';\nimport ArchiveCard from './ArchiveCard';\nimport ThumbnailRaster from './ThumbnailRaster';\nimport ThumbnailVectorArchive from './ThumbnailVectorArchive';\n\nexport type Props = {\n  query: URLSearchParams;\n};\n\nconst Search = ({ query }: Props) => {\n  const data = useStaticQuery<Queries.SearchQuery>(\n    graphql`\n      query Search {\n        allMarkdownRemark(sort: { frontmatter: { date: DESC } }) {\n          nodes {\n            fields {\n              slug\n            }\n            frontmatter {\n              date(formatString: \"YYYY-MM-DD\")\n              title\n              header {\n                childImageSharp {\n                  gatsbyImageData(\n                    aspectRatio: 1\n                    formats: [WEBP]\n                    placeholder: NONE\n                    layout: CONSTRAINED\n                  )\n                }\n              }\n              tags\n            }\n          }\n        }\n        file(\n          sourceInstanceName: { eq: \"assets\" }\n          relativePath: { eq: \"search.svg\" }\n        ) {\n          publicURL\n        }\n      }\n    `\n  );\n\n  const queryTag = query.get('tag') ?? '';\n  const [tag, setTag] = useState(queryTag);\n  useEffect(() => {\n    setTag(queryTag);\n  }, [queryTag]);\n  const tagPattern = new RegExp(tag, 'i');\n\n  const results = data.allMarkdownRemark.nodes.filter((node) => {\n    const nodeTags = node.frontmatter?.tags?.filter(isNonNullable) ?? [];\n    if (tag && nodeTags.every((nodeTag) => !tagPattern.test(nodeTag))) {\n      return false;\n    }\n\n    return true;\n  });\n\n  const onChangeInput = useDebouncedCallback<\n    ChangeEventHandler<HTMLInputElement>\n  >((event) => {\n    if (event.target.value === '') {\n      void navigate(`/archive/`);\n      return;\n    }\n    void navigate(`/archive/?tag=${event.target.value}`);\n  }, 500);\n\n  return (\n    <div>\n      <section className={styles.searchArea}>\n        <label htmlFor='search-input'>\n          <h2 className={styles.searchAreaLabelTag}>タグ</h2>\n          <div className={styles.searchAreaInput}>\n            <input\n              type='text'\n              value={tag}\n              id='search-input'\n              onChange={(event) => {\n                setTag(event.target.value);\n                onChangeInput(event);\n              }}\n            />\n            <img\n              className={styles.searchButton}\n              src={data.file?.publicURL ?? undefined}\n              alt='search'\n            />\n          </div>\n        </label>\n      </section>\n      <ul\n        className={styles.searchResultList}\n        style={{ listStyle: `none`, padding: 0 }}\n      >\n        {results.map((result) => {\n          const title = result.frontmatter?.title || result.fields?.slug || '';\n          const imgSrc =\n            result.frontmatter?.header?.childImageSharp?.gatsbyImageData;\n          const thumbnail = imgSrc ? (\n            <ThumbnailRaster img={imgSrc} />\n          ) : (\n            <ThumbnailVectorArchive img='/favicon.svg' />\n          );\n\n          return (\n            <li key={result.fields?.slug}>\n              <ArchiveCard\n                slug={result.fields?.slug ?? ''}\n                title={title}\n                thumbnail={thumbnail}\n                date={result.frontmatter?.date ?? ''}\n                tags={result.frontmatter?.tags?.filter(isNonNullable) ?? []}\n              />\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default Search;\n","// extracted by mini-css-extract-plugin\nexport var searchArea = \"Search-module--searchArea--fba9f\";\nexport var searchAreaInput = \"Search-module--searchAreaInput--c2aa3\";\nexport var searchAreaLabelTag = \"Search-module--searchAreaLabelTag--04f67\";\nexport var searchButton = \"Search-module--searchButton--9172b\";\nexport var searchResultList = \"Search-module--searchResultList--6f9cd\";","import { graphql, HeadProps, PageProps } from 'gatsby';\nimport * as styles from '~/styles/pages/archive.module.css';\nimport LayoutCommon from '../components/LayoutCommon';\nimport Search from '../components/Search';\nimport Seo from '../components/Seo';\n\nconst Archive = ({ data, location }: PageProps<Queries.ArchivePageQuery>) => {\n  const query = new URLSearchParams(location.search);\n  return (\n    <LayoutCommon\n      titleSvg={data.file?.publicURL ?? ''}\n      mainClassName='global-main-archive'\n    >\n      <section className={styles.archivePage}>\n        <Search query={query} />\n      </section>\n    </LayoutCommon>\n  );\n};\n\nexport default Archive;\n\nexport const pageQuery = graphql`\n  query ArchivePage {\n    file(\n      sourceInstanceName: { eq: \"assets\" }\n      relativePath: { eq: \"archive.svg\" }\n    ) {\n      publicURL\n    }\n  }\n`;\n\nexport const Head = ({ location }: HeadProps) => {\n  return <Seo title='archive' location={location} url='/archive' />;\n};\n"],"names":["_ref","titleSvg","_jsx","className","src","alt","children","mainClassName","isMenuActive","useContext","IsMenuActiveStateContext","_jsxs","HeaderCommon","Nav","isHidden","ref","node","setAttribute","removeAttribute","c","u","e","i","this","a","o","f","l","m","v","d","p","current","g","window","TypeError","w","leading","s","trailing","x","y","Math","max","maxWait","h","r","n","t","apply","cancelAnimationFrame","requestAnimationFrame","setTimeout","Date","now","min","slice","call","arguments","cancel","clearTimeout","isPending","flush","isNonNullable","value","slug","title","thumbnail","date","tags","tagElements","map","tag","Link","to","onClick","defaultPrevented","navigate","itemScope","itemType","itemProp","dateTime","replace","img","GatsbyImage","image","setIsHidden","useState","useEffect","classNames","join","loading","_query$get","_data$file$publicURL","_data$file","query","data","useStaticQuery","queryTag","get","setTag","tagPattern","RegExp","results","allMarkdownRemark","nodes","filter","_node$frontmatter$tag","_node$frontmatter","_node$frontmatter$tag2","nodeTags","frontmatter","every","nodeTag","test","onChangeInput","useDebouncedCallback","event","target","htmlFor","type","id","onChange","file","publicURL","undefined","style","listStyle","padding","result","_result$frontmatter","_result$fields","_result$frontmatter2","_result$frontmatter2$","_result$frontmatter2$2","_result$fields2","_result$fields$slug","_result$fields3","_result$frontmatter$d","_result$frontmatter3","_result$frontmatter$t","_result$frontmatter4","_result$frontmatter4$","fields","imgSrc","header","childImageSharp","gatsbyImageData","ThumbnailRaster","ThumbnailVectorArchive","ArchiveCard","location","URLSearchParams","search","LayoutCommon","Search","Head","_ref2","Seo","url"],"sourceRoot":""}