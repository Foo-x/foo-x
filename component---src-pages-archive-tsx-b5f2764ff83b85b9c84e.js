"use strict";(self.webpackChunkfoo_x=self.webpackChunkfoo_x||[]).push([[252],{5095:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(7294),a=t(3598),i=t(5893);var l=e=>{let{titleSvg:r}=e;return(0,i.jsx)("img",{className:"HeaderCommon-module--headingCommon--70f3e",src:r,alt:"heading title"})},u=t(3697);var c=e=>{let{children:r,titleSvg:t,mainClassName:c}=e;const s=(0,n.useContext)(a.uy);return(0,i.jsxs)("div",{className:"global-wrapper",children:[(0,i.jsx)("header",{className:"LayoutCommon-module--globalHeaderCommon--02ac3",children:(0,i.jsx)(l,{titleSvg:t})}),(0,i.jsx)(u.Z,{isHidden:!1,className:"global-nav-wrapper"}),(0,i.jsx)("main",{className:c,ref:e=>e&&(s?e.setAttribute("inert",""):e.removeAttribute("inert")),children:r})]})}},7735:function(e,r,t){t.r(r),t.d(r,{Head:function(){return g},default:function(){return f}});var n=t(5095),a=t(1883),i=t(7294);function l(e,r,t){var n=this,a=(0,i.useRef)(null),l=(0,i.useRef)(0),u=(0,i.useRef)(null),c=(0,i.useRef)([]),s=(0,i.useRef)(),o=(0,i.useRef)(),d=(0,i.useRef)(e),m=(0,i.useRef)(!0);(0,i.useEffect)((function(){d.current=e}),[e]);var v=!r&&0!==r&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");r=+r||0;var h=!!(t=t||{}).leading,f=!("trailing"in t)||!!t.trailing,g="maxWait"in t,x=g?Math.max(+t.maxWait||0,r):null;(0,i.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var p=(0,i.useMemo)((function(){var e=function(e){var r=c.current,t=s.current;return c.current=s.current=null,l.current=e,o.current=d.current.apply(t,r)},t=function(e,r){v&&cancelAnimationFrame(u.current),u.current=v?requestAnimationFrame(e):setTimeout(e,r)},i=function(e){if(!m.current)return!1;var t=e-a.current;return!a.current||t>=r||t<0||g&&e-l.current>=x},p=function(r){return u.current=null,f&&c.current?e(r):(c.current=s.current=null,o.current)},j=function e(){var n=Date.now();if(i(n))return p(n);if(m.current){var u=r-(n-a.current),c=g?Math.min(u,x-(n-l.current)):u;t(e,c)}},b=function(){var d=Date.now(),v=i(d);if(c.current=[].slice.call(arguments),s.current=n,a.current=d,v){if(!u.current&&m.current)return l.current=a.current,t(j,r),h?e(a.current):o.current;if(g)return t(j,r),e(a.current)}return u.current||t(j,r),o.current};return b.cancel=function(){u.current&&(v?cancelAnimationFrame(u.current):clearTimeout(u.current)),l.current=0,c.current=a.current=s.current=u.current=null},b.isPending=function(){return!!u.current},b.flush=function(){return u.current?p(Date.now()):o.current},b}),[h,g,r,x,f,v]);return p}const u=e=>null!=e;var c=t(5893);var s=e=>{let{slug:r,title:t,thumbnail:n,date:i,tags:l}=e;const u=l.map((e=>(0,c.jsx)("li",{children:(0,c.jsx)(a.Link,{to:`/archive/?tag=${e}`,className:"ArchiveCard-module--tagLink--8d2c5",children:e})},e)));return(0,c.jsxs)("article",{className:"ArchiveCard-module--card--0dc05",onClick:e=>{e.defaultPrevented||(0,a.navigate)(r)},itemScope:!0,itemType:"http://schema.org/Article","aria-hidden":"true",children:[(0,c.jsx)(a.Link,{to:r,className:"ArchiveCard-module--imageWrapper--d58df",itemProp:"url",children:n}),(0,c.jsxs)("section",{children:[(0,c.jsx)("h2",{className:"ArchiveCard-module--title--46206",itemProp:"headline",children:(0,c.jsx)(a.Link,{to:r,itemProp:"url",children:t})}),(0,c.jsx)("time",{dateTime:i,children:i.replace(/-/g,".")}),(0,c.jsx)("ul",{className:"ArchiveCard-module--tags--9a5ba",children:u})]})]})},o=t(8032);var d=e=>{let{img:r}=e;return(0,c.jsx)(o.G,{image:{...r},className:"ThumbnailRaster-module--thumbnailRaster--13503",alt:"thumbnail",itemProp:"image"})};var m=e=>{let{img:r}=e;const{0:t,1:n}=(0,i.useState)(!0);(0,i.useEffect)((()=>{n(!1)}),[]);const a="ThumbnailVectorArchive-module--thumbnailVectorArchive--8a1f5",l=t?[a,"is-hidden"]:[a];return(0,c.jsx)("div",{className:"ThumbnailVectorArchive-module--thumbnailVectorArchiveSpace--8afa2",children:(0,c.jsx)("img",{src:r,className:l.join(" "),alt:"thumbnail",itemProp:"image",loading:"lazy"})})};var v=e=>{var r,t,n;let{query:o}=e;const v=(0,a.useStaticQuery)("4244016640"),h=null!==(r=o.get("tag"))&&void 0!==r?r:"",{0:f,1:g}=(0,i.useState)(h);(0,i.useEffect)((()=>{g(h)}),[h]);const x=new RegExp(f,"i"),p=v.allMarkdownRemark.nodes.filter((e=>{var r,t,n;const a=null!==(r=null===(t=e.frontmatter)||void 0===t||null===(n=t.tags)||void 0===n?void 0:n.filter(u))&&void 0!==r?r:[];return!f||!a.every((e=>!x.test(e)))})),j=l((e=>{""!==e.target.value?(0,a.navigate)(`/archive/?tag=${e.target.value}`):(0,a.navigate)("/archive/")}),500);return(0,c.jsxs)("div",{children:[(0,c.jsx)("section",{className:"Search-module--searchArea--fba9f",children:(0,c.jsxs)("label",{htmlFor:"search-input",children:[(0,c.jsx)("h2",{className:"Search-module--searchAreaLabelTag--04f67",children:"タグ"}),(0,c.jsxs)("div",{className:"Search-module--searchAreaInput--c2aa3",children:[(0,c.jsx)("input",{type:"text",value:f,id:"search-input",onChange:e=>{g(e.target.value),j(e)}}),(0,c.jsx)("img",{className:"Search-module--searchButton--9172b",src:null!==(t=null===(n=v.file)||void 0===n?void 0:n.publicURL)&&void 0!==t?t:void 0,alt:"search"})]})]})}),(0,c.jsx)("ul",{className:"Search-module--searchResultList--6f9cd",style:{listStyle:"none",padding:0},children:p.map((e=>{var r,t,n,a,i,l,o,v,h,f,g,x,p;const j=(null===(r=e.frontmatter)||void 0===r?void 0:r.title)||(null===(t=e.fields)||void 0===t?void 0:t.slug)||"",b=null===(n=e.frontmatter)||void 0===n||null===(a=n.header)||void 0===a||null===(i=a.childImageSharp)||void 0===i?void 0:i.gatsbyImageData,N=b?(0,c.jsx)(d,{img:b}):(0,c.jsx)(m,{img:"/favicon.svg"});return(0,c.jsx)("li",{children:(0,c.jsx)(s,{slug:null!==(o=null===(v=e.fields)||void 0===v?void 0:v.slug)&&void 0!==o?o:"",title:j,thumbnail:N,date:null!==(h=null===(f=e.frontmatter)||void 0===f?void 0:f.date)&&void 0!==h?h:"",tags:null!==(g=null===(x=e.frontmatter)||void 0===x||null===(p=x.tags)||void 0===p?void 0:p.filter(u))&&void 0!==g?g:[]})},null===(l=e.fields)||void 0===l?void 0:l.slug)}))})]})},h=t(8345);var f=e=>{var r,t;let{data:a,location:i}=e;const l=new URLSearchParams(i.search);return(0,c.jsx)(n.Z,{titleSvg:null!==(r=null===(t=a.file)||void 0===t?void 0:t.publicURL)&&void 0!==r?r:"",mainClassName:"global-main-archive",children:(0,c.jsx)("section",{className:"archive-module--archivePage--da7fe",children:(0,c.jsx)(v,{query:l})})})};const g=e=>{let{location:r}=e;return(0,c.jsx)(h.Z,{title:"archive",location:r,url:"/archive"})}}}]);
//# sourceMappingURL=component---src-pages-archive-tsx-b5f2764ff83b85b9c84e.js.map