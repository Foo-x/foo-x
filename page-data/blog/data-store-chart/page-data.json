{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/data-store-chart/","result":{"data":{"markdownRemark":{"fields":{"slug":"/blog/data-store-chart/"},"id":"647070a8-c29a-5166-b3df-9639b9637085","excerpt":"(PlantUMLで作成) 2020/12/03 追記 現在はRDS Proxyを使用することで、サーバーレスでもRDS…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.492063492063494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6UlEQVQoz4VS2Q6EIAzk/7/OVxON922M9611pxsNccVtUgoFpsMUQR/L85yKoqB/tu/75ef6biJNU3Ich8IwpCAIODZNQ8Mw0DiONM8zbdvG/gR8BxdxHDNIlmWUJAnVdc2AZx4FT2C8pCxLJTBcYFiWhaqq4otY4/I0TQwMKTDHGRQwTZPz67o+yiHuGoBh13VcABGMwBZAYKvrOrvneRzBGgQuDWUdsBFFET8fEeygKxihUNu2ZBgGR7C1LIs0TWNg13U5L2TKT12VmyEbmtb3/aWxbdvk+/4X8O0bqMRX2Q+gyuX9t7MHgeK8vb/rAFMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"データストア選択チャート(AWS編)_.png\"\n        title=\"データストア選択チャート(AWS編)_.png\"\n        src=\"/static/5e21e6db1bcf9c666115842f417a586d/f058b/chart.png\"\n        srcset=\"/static/5e21e6db1bcf9c666115842f417a586d/6bdcf/chart.png 315w,\n/static/5e21e6db1bcf9c666115842f417a586d/f058b/chart.png 630w,\n/static/5e21e6db1bcf9c666115842f417a586d/08037/chart.png 1379w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>(PlantUMLで作成)</p>\n<p>2020/12/03 追記<br>\n現在はRDS Proxyを使用することで、サーバーレスでもRDSを使いやすくなっています。</p>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>新しくサービスを作るたびにデータストアの選定を行いますが、チャートがあると便利かな、と思ったので作りました。<br>\nなお、私はインフラエンジニアではないので、参考程度に見ていただけると幸いです。<br>\nこのチャートに沿っていないデータベースが不適切というわけではありません。</p>\n<p>ちなみにAWS編以外の編は予定しておりませんので、あしからず。</p>\n<h2 id=\"s3\" style=\"position:relative;\"><a href=\"#s3\" aria-label=\"s3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S3</h2>\n<p>オブジェクトストレージ。<br>\n基本的にはオブジェクト単位で扱うので、データの一部で検索したり、一部だけ更新したりすることは苦手。<br>\n(検索に関しては<code class=\"language-text\">S3 Select</code>や<code class=\"language-text\">Athena</code>などを使えば可能)<br>\n音声、画像、ログなどの非構造化データや、アプリに対して1つだけ用意すれば良い設定ファイルなどの保存先に適している。<br>\n<strong>S3 Glacier</strong>はアクセス頻度が少なく、長期保存するデータ向け。</p>\n<h2 id=\"redshift\" style=\"position:relative;\"><a href=\"#redshift\" aria-label=\"redshift permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redshift</h2>\n<p>データウェアハウス。<br>\nS3や他のDBからデータをロードし、分析を行う。</p>\n<h2 id=\"elasticache\" style=\"position:relative;\"><a href=\"#elasticache\" aria-label=\"elasticache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elasticache</h2>\n<p>キーバリュー型のNoSQL(KVS)。<br>\nインメモリにデータを保持し、ミリ秒未満のリアルタイムな処理が必要なユースケースで使用する。<br>\n一応パフォーマンスを犠牲にして永続化することも可能だが、長所を活かせないので別のDBと併用するのが無難。</p>\n<h2 id=\"neptune\" style=\"position:relative;\"><a href=\"#neptune\" aria-label=\"neptune permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Neptune</h2>\n<p>グラフ型のNoSQL。<br>\nソーシャルネットワークや交通網のような、グラフ構造のデータを扱うのに適している。</p>\n<h2 id=\"timestream\" style=\"position:relative;\"><a href=\"#timestream\" aria-label=\"timestream permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Timestream</h2>\n<p>時系列データ(タイムスタンプをキーにしたデータ)に最適化されたDB。<br>\nIoTやアプリのモニタリングなどに使用する。</p>\n<h2 id=\"rds\" style=\"position:relative;\"><a href=\"#rds\" aria-label=\"rds permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RDS</h2>\n<p>リレーショナルDB。<br>\nACID特性を満たすため、強い整合性が必要なデータに適している。<br>\nその代わりにスケールアウトが難しく、大量のデータを扱うのには適さない。<br>\nまた、スキーマを定義しておく必要があるので、データ構造が頻繁に変わるプロト開発時にも向かない。</p>\n<h2 id=\"aurora\" style=\"position:relative;\"><a href=\"#aurora\" aria-label=\"aurora permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Aurora</h2>\n<p>データモデルや基本的な用途はRDSと同様。<br>\nクラウド向けに最適化し、パフォーマンスや耐障害性を向上している。<br>\nその分、料金はRDSより割高。</p>\n<h2 id=\"aurora-serverless\" style=\"position:relative;\"><a href=\"#aurora-serverless\" aria-label=\"aurora serverless permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Aurora Serverless</h2>\n<p>Auroraのサーバーレス版。<br>\nData API経由でアクセスすることによって最大コネクション数の問題を回避できるので、Lambdaからも使用できる。</p>\n<h2 id=\"dynamodb\" style=\"position:relative;\"><a href=\"#dynamodb\" aria-label=\"dynamodb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DynamoDB</h2>\n<p>ドキュメント型の特徴も持つキーバリュー型のNoSQL(KVS)。<br>\n1つのキーに対して複数の値を持たせたり、範囲のあるキーを定義したりできる。<br>\nサーバーレスで自動的にスケールするので、Lambdaと相性が良い。<br>\nあくまでKVSなので複雑な検索や更新は苦手。</p>\n<h2 id=\"documentdb\" style=\"position:relative;\"><a href=\"#documentdb\" aria-label=\"documentdb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DocumentDB</h2>\n<p>ドキュメント型のNoSQL。<br>\nMongoDB互換で複雑な構造のデータも扱いやすい。</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://aws.amazon.com/jp/products/databases/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AWSが提供するクラウドデータベース</a></li>\n<li><a href=\"https://aws.amazon.com/jp/products/storage/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AWSが提供するクラウドストレージサービス</a></li>\n</ul>","frontmatter":{"title":"データストア選択チャート(AWS編)","date":"2019-10-06","description":null,"header":{"childImageSharp":{"fluid":{"aspectRatio":1.5,"src":"/static/ea5b23105a25e878f5d606a27d4d9f79/25f09/header.webp","srcSet":"/static/ea5b23105a25e878f5d606a27d4d9f79/61be4/header.webp 480w,\n/static/ea5b23105a25e878f5d606a27d4d9f79/1fb14/header.webp 960w,\n/static/ea5b23105a25e878f5d606a27d4d9f79/25f09/header.webp 1920w","sizes":"(max-width: 1920px) 100vw, 1920px"}}},"ogp":{"publicURL":"/static/bd356b8dcc01971313ce29767e3d6799/ogp.jpg"},"tags":["AWS","S3","DB"]},"tableOfContents":"<ul>\n<li><a href=\"/blog/data-store-chart/#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"/blog/data-store-chart/#s3\">S3</a></li>\n<li><a href=\"/blog/data-store-chart/#redshift\">Redshift</a></li>\n<li><a href=\"/blog/data-store-chart/#elasticache\">Elasticache</a></li>\n<li><a href=\"/blog/data-store-chart/#neptune\">Neptune</a></li>\n<li><a href=\"/blog/data-store-chart/#timestream\">Timestream</a></li>\n<li><a href=\"/blog/data-store-chart/#rds\">RDS</a></li>\n<li><a href=\"/blog/data-store-chart/#aurora\">Aurora</a></li>\n<li><a href=\"/blog/data-store-chart/#aurora-serverless\">Aurora Serverless</a></li>\n<li><a href=\"/blog/data-store-chart/#dynamodb\">DynamoDB</a></li>\n<li><a href=\"/blog/data-store-chart/#documentdb\">DocumentDB</a></li>\n<li><a href=\"/blog/data-store-chart/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>"}},"pageContext":{"id":"647070a8-c29a-5166-b3df-9639b9637085"}},"staticQueryHashes":["3159585216","3357329864","3468387890","3862782001"]}