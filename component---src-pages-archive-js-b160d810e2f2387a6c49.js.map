{"version":3,"file":"component---src-pages-archive-js-b160d810e2f2387a6c49.js","mappings":"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","sources":["webpack://foo-x/./src/components/header-common.js","webpack://foo-x/./src/styles/components/header-common.module.css","webpack://foo-x/./src/components/layout-common.js","webpack://foo-x/./src/styles/components/layout-common.module.css","webpack://foo-x/./src/components/thumbnail-raster.js","webpack://foo-x/./src/styles/components/thumbnail-raster.module.css","webpack://foo-x/./src/components/thumbnail-vector-archive.js","webpack://foo-x/./src/styles/components/thumbnail-vector-archive.module.css","webpack://foo-x/./src/components/search.js","webpack://foo-x/./src/styles/components/search.module.css","webpack://foo-x/./src/pages/archive.js","webpack://foo-x/./src/styles/pages/archive.module.css"],"sourcesContent":["import React from \"react\"\nimport * as styles from \"styles/components/header-common.module.css\"\n\nconst HeaderCommon = ({ titleSvg }) => {\n  return (\n    <img className={styles.headingCommon} src={titleSvg} alt=\"heading title\" />\n  )\n}\n\nexport default HeaderCommon\n","// extracted by mini-css-extract-plugin\nexport var headingCommon = \"header-common-module--headingCommon--K0kL6\";","import React from \"react\"\nimport * as styles from \"styles/components/layout-common.module.css\"\nimport HeaderCommon from \"./header-common\"\nimport Nav from \"./nav\"\n\nconst LayoutCommon = ({ children, titleSvg, mainClassName }) => {\n  return (\n    <div className=\"global-wrapper\">\n      <header className={styles.globalHeaderCommon}>\n        <HeaderCommon titleSvg={titleSvg} />\n      </header>\n      <Nav isHidden={false} className=\"global-nav-wrapper\" />\n      <main className={mainClassName}>{children}</main>\n    </div>\n  )\n}\n\nexport default LayoutCommon\n","// extracted by mini-css-extract-plugin\nexport var globalHeaderCommon = \"layout-common-module--globalHeaderCommon--ZF2fw\";","import { GatsbyImage } from \"gatsby-plugin-image\"\nimport React from \"react\"\nimport * as styles from \"styles/components/thumbnail-raster.module.css\"\n\nconst ThumbnailRaster = ({ img }) => {\n  return (\n    <GatsbyImage\n      image={{ ...img, aspectRatio: 1 }}\n      className={styles.thumbnailRaster}\n      alt=\"thumbnail\"\n      itemProp=\"image\"\n    />\n  )\n}\n\nexport default ThumbnailRaster\n","// extracted by mini-css-extract-plugin\nexport var thumbnailRaster = \"thumbnail-raster-module--thumbnailRaster--tK2AX\";","import React, { useState } from \"react\"\nimport * as styles from \"styles/components/thumbnail-vector-archive.module.css\"\n\nconst ThumbnailVectorArchive = ({ img }) => {\n  const [isHidden, setIsHidden] = useState(true)\n\n  const className = styles.thumbnailVectorArchive\n  const classNames = isHidden ? [className, \"is-hidden\"] : [className]\n\n  return (\n    <div className={styles.thumbnailVectorArchiveSpace}>\n      <img\n        src={img}\n        className={classNames.join(\" \")}\n        alt=\"thumbnail\"\n        itemProp=\"image\"\n        onLoad={() => setIsHidden(false)}\n      />\n    </div>\n  )\n}\n\nexport default ThumbnailVectorArchive\n","// extracted by mini-css-extract-plugin\nexport var thumbnailVectorArchiveSpace = \"thumbnail-vector-archive-module--thumbnailVectorArchiveSpace--KWGpo\";\nexport var thumbnailVectorArchive = \"thumbnail-vector-archive-module--thumbnailVectorArchive--3e+5W\";","import { graphql, Link, useStaticQuery } from \"gatsby\"\nimport React, { useState } from \"react\"\nimport * as styles from \"styles/components/search.module.css\"\nimport ThumbnailRaster from \"./thumbnail-raster\"\nimport ThumbnailVectorArchive from \"./thumbnail-vector-archive\"\n\n/**\n * @param {object} param0\n * @param {URLSearchParams} param0.query\n */\nconst Search = ({ query }) => {\n  const data = useStaticQuery(\n    graphql`\n      {\n        allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n          nodes {\n            fields {\n              slug\n            }\n            frontmatter {\n              date(formatString: \"YYYY-MM-DD\")\n              title\n              header {\n                childImageSharp {\n                  gatsbyImageData(\n                    aspectRatio: 1\n                    formats: [WEBP]\n                    placeholder: NONE\n                    layout: CONSTRAINED\n                  )\n                }\n              }\n              tags\n            }\n          }\n        }\n        file(\n          sourceInstanceName: { eq: \"assets\" }\n          relativePath: { eq: \"search.svg\" }\n        ) {\n          publicURL\n        }\n      }\n    `\n  )\n\n  const queryTag = query.get(\"tag\")\n  const [tag, setTag] = useState(queryTag || \"\")\n  const tagPattern = new RegExp(tag, \"i\")\n\n  const results = data.allMarkdownRemark.nodes.filter(node => {\n    const nodeTags = node.frontmatter.tags || []\n    if (tag && nodeTags.every(nodeTag => !tagPattern.test(nodeTag))) {\n      return false\n    }\n\n    return true\n  })\n\n  return (\n    <div>\n      <section className={styles.searchArea}>\n        <label>\n          <h2 className={styles.searchAreaLabelTag}>タグ</h2>\n          <div className={styles.searchAreaInput}>\n            <input\n              type=\"text\"\n              value={tag}\n              onChange={event => {\n                setTag(event.target.value)\n              }}\n            />\n            <img\n              className={styles.searchButton}\n              src={data.file.publicURL}\n              alt=\"search\"\n            />\n          </div>\n        </label>\n      </section>\n      <ul\n        className={styles.searchResultList}\n        style={{ listStyle: `none`, padding: 0 }}\n      >\n        {results.map(result => {\n          const title = result.frontmatter.title || result.fields.slug\n          const imgSrc =\n            result.frontmatter.header?.childImageSharp?.gatsbyImageData\n          const thumbnail = imgSrc ? (\n            <ThumbnailRaster img={imgSrc} />\n          ) : (\n            <ThumbnailVectorArchive img={\"/favicon.svg\"} />\n          )\n          const tags = result.frontmatter.tags\n            ? result.frontmatter.tags.map(tag => {\n                return <li key={tag}>{tag}</li>\n              })\n            : null\n\n          return (\n            <li key={result.fields.slug}>\n              <article\n                className={styles.searchResultItem}\n                itemScope\n                itemType=\"http://schema.org/Article\"\n              >\n                <Link to={result.fields.slug} itemProp=\"url\">\n                  <div className={styles.searchResultImageWrapper}>\n                    {thumbnail}\n                  </div>\n                  <section>\n                    <h2\n                      className={styles.searchResultItemTitle}\n                      itemProp=\"headline\"\n                    >\n                      {title}\n                    </h2>\n                    <time dateTime={result.frontmatter.date}>\n                      {result.frontmatter.date.replace(/-/g, \".\")}\n                    </time>\n                    <ul className={styles.searchResultTagList}>{tags}</ul>\n                  </section>\n                </Link>\n              </article>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport default Search\n","// extracted by mini-css-extract-plugin\nexport var searchArea = \"search-module--searchArea--IKmss\";\nexport var searchAreaLabelTag = \"search-module--searchAreaLabelTag--fvBnB\";\nexport var searchAreaInput = \"search-module--searchAreaInput--zaI0+\";\nexport var searchButton = \"search-module--searchButton--Pn5cB\";\nexport var searchResultList = \"search-module--searchResultList--HMAjL\";\nexport var searchResultImageWrapper = \"search-module--searchResultImageWrapper--iNngS\";\nexport var searchResultItem = \"search-module--searchResultItem--6dspg\";\nexport var searchResultItemTitle = \"search-module--searchResultItemTitle--VmeD6\";\nexport var searchResultTagList = \"search-module--searchResultTagList--2dnJY\";","import { graphql } from \"gatsby\"\nimport React from \"react\"\nimport * as styles from \"styles/pages/archive.module.css\"\nimport LayoutCommon from \"../components/layout-common\"\nimport Search from \"../components/search\"\nimport SEO from \"../components/seo\"\n\nconst Archive = ({ data, location }) => {\n  const query = new URLSearchParams(location.search)\n  return (\n    <LayoutCommon\n      titleSvg={data.file.publicURL}\n      mainClassName=\"global-main-archive\"\n    >\n      <SEO title=\"archive\" location={location} url=\"/archive\" />\n      <section className={styles.archivePage}>\n        <Search query={query} />\n      </section>\n    </LayoutCommon>\n  )\n}\n\nexport default Archive\n\nexport const pageQuery = graphql`\n  query {\n    file(\n      sourceInstanceName: { eq: \"assets\" }\n      relativePath: { eq: \"archive.svg\" }\n    ) {\n      publicURL\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var archivePage = \"archive-module--archivePage--2n-uA\";"],"names":["titleSvg","className","src","alt","children","mainClassName","isHidden","img","G","image","aspectRatio","itemProp","useState","setIsHidden","classNames","join","onLoad","query","data","useStaticQuery","queryTag","get","tag","setTag","tagPattern","RegExp","results","allMarkdownRemark","nodes","filter","node","nodeTags","frontmatter","tags","every","nodeTag","test","type","value","onChange","event","target","file","publicURL","style","listStyle","padding","map","result","title","fields","slug","imgSrc","header","childImageSharp","gatsbyImageData","thumbnail","key","itemScope","itemType","Link","to","dateTime","date","replace","location","URLSearchParams","search","url"],"sourceRoot":""}